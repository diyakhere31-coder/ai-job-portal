{% extends 'jobapp/base.html' %}
{% load static %}
{% block content %}

<style>
    .page-title {
        font-weight: 700;
        color: #1a237e;
        margin-bottom: 25px;
    }

    .recruiter-card {
        background: #ffffff;
        padding: 18px 20px;
        border-radius: 14px;
        box-shadow: 0 3px 12px rgba(0,0,0,0.08);
        margin-bottom: 18px;
        transition: 0.25s ease;
    }

    .recruiter-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 5px 20px rgba(0,0,0,0.12);
    }

    .avatar {
        width: 55px;
        height: 55px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid #ddd;
    }

    .info h5 {
        margin: 0;
        font-weight: 600;
    }

    .info p {
        margin: 0;
        font-size: 13px;
        color: #555;
    }

    .action-btn {
        border-radius: 30px;
        font-size: 13px;
        padding: 6px 14px;
        font-weight: 600;
    }

    .btn-view {
        background: #1a237e;
        color: white;
    }

    .btn-view:hover {
        background: #000f4e;
    }

    .btn-delete {
        background: #e53935;
        color: white;
    }

    .btn-delete:hover {
        background: #b71c1c;
    }
</style>

<div class="container mt-4">

    <h2 class="page-title">Registered Recruiters</h2>

    {% for r in recruiters %}
    <div class="recruiter-card d-flex justify-content-between align-items-center">

        <!-- LEFT: PROFILE -->
        <div class="d-flex align-items-center gap-3">
            <img src="{% if r.profile_pic %}{{ r.profile_pic.url }}{% else %}{% static 'images/default_user.png' %}{% endif %}"
                 class="avatar">

            <div class="info">
                <h5>{{ r.username }}</h5>
                <p>{{ r.email }}</p>
                <p>Joined: {{ r.date_joined|date:"d M Y" }}</p>
            </div>
        </div>

        <!-- RIGHT ACTION BUTTONS -->
        <div class="text-end">

            <a href="{% url 'admin_view_recruiter' r.id %}" 
               class="btn btn-view action-btn">View</a>

            <a href="{% url 'admin_delete_recruiter' r.id %}" 
               class="btn btn-delete action-btn"
               onclick="return confirm('Are you sure you want to delete this recruiter?');">
               Delete
            </a>

        </div>
    </div>
    {% empty %}
        <p class="text-center text-muted">No recruiters found.</p>
    {% endfor %}
</div>

{% endblock %}
